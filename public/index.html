<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  
  <!-- Title & PWA Manifest -->
  <title>CHG - Clinical Toolkit</title>
  <link rel="manifest" href="manifest.json">
  
  <!-- Apple PWA Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CHG Toolkit">
  <link rel="apple-touch-icon" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFzwIoH5I9Dg_dwbN_Kc4B2KdJiTjIVJIc45xnOQ28R2dw75hGSE97vmQpYfXKO1r0qAceEw2kpp78Y_aTgD6YCZfpZiMC8bStPrEDYzOUSUV96h9kYYcS5PD_nAltwlYEL1umN-Z6KjXfyIaFEU-OP4-Ldo6r1V9ZZwfp3AG1YDJYGoOsgWKNcoT3igc4/s192/bc19f2e5-04b9-441b-a4f4-ccf4fe8e8d31.png">

  <!-- Supabase Client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- Linking the external CSS file -->
  <link rel="stylesheet" href="style.css">

</head>
<body>

  <!-- 
    App Shell: Header
  -->
  <header class="app-header">
    <button class="header-icon-button" id="header-back-button" aria-label="Go back">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
    </button>
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFzwIoH5I9Dg_dwbN_Kc4B2KdJiTjIVJIc45xnOQ28R2dw75hGSE97vmQpYfXKO1r0qAceEw2kpp78Y_aTgD6YCZfpZiMC8bStPrEDYzOUSUV96h9kYYcS5PD_nAltwlYEL1umN-Z6KjXfyIaFEU-OP4-Ldo6r1V9ZZwfp3AG1YDJYGoOsgWKNcoT3igc4/s192/bc19f2e5-04b9-441b-a4f4-ccf4fe8e8d31.png" alt="Logo" class="app-header-logo">
    <h1 id="app-title">CHG Toolkit</h1>

    <div class="header-spacer"></div>
    
    <button id="dark-mode-toggle" class="header-icon-button" aria-label="Toggle dark mode">
      <!-- Sun Icon (Solid) -->
      <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/></svg>
      <!-- Moon Icon (Solid) -->
      <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
    </button>
  </header>

  <!-- 
    App Shell: Content
  -->
  <main class="app-content">

    <!-- 
      View 1: Dashboard
    -->
    <div id="view-dashboard" class="view active">
      <div class="dashboard-grid">
        
        <!-- Heparin: Solid Syringe -->
        <div class="tool-card" data-nav="heparin">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <!-- Simple Solid Syringe (Diagonal) -->
            <path d="M19.41 7.41l-2.83-2.83 1.42-1.41-2.83-2.83-1.42 1.42L10.93 4.59l2.83 2.83-8.49 8.48-1.42-1.41L1 17.34l1.41 1.42 2.83-2.83 8.49-8.48 2.83 2.83 2.83-2.83zM5.66 16.93l1.41 1.41-1.41 1.42-1.41-1.42 1.41-1.41z"/>
            <!-- Add lines for measurement marks -->
            <path d="M14.5 7.5L16.5 9.5M12.5 9.5L14.5 11.5M10.5 11.5L12.5 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span class="tool-card-title">Heparin<br>Calculator</span>
        </div>
        
        <!-- Prophylaxis: Solid Shield -->
        <div class="tool-card" data-nav="prophylaxis">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
            <path d="M12 22C17.16 20.74 21 15.55 21 10V5L12 1L3 5V10C3 15.55 6.84 20.74 12 22Z"/>
          </svg>
          <span class="tool-card-title">Stress Ulcer<br>Prophylaxis</span>
        </div>
        
        <!-- Padua: Solid Hospital Bed -->
        <div class="tool-card" data-nav="padua">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
             <!-- Bed frame and mattress -->
             <path d="M20 10h-9.5C9.67 10 9 10.67 9 11.5v2.5H4v-7H2v14h2v-3h16v3h2v-8.5C22 10.67 21.33 10 20 10z"/>
             <!-- Pillow / Headboard -->
             <path d="M6 7h5v4H6z"/>
          </svg>
          <span class="tool-card-title">Padua (VTE)<br>Score</span>
        </div>
        
        <!-- IV Infusion: Solid Droplet -->
        <div class="tool-card" data-nav="iv">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2c-5.33 5.33-8 9.33-8 12.67 0 4.42 3.58 8 8 8s8-3.58 8-8C20 11.33 17.33 7.33 12 2z"/>
          </svg>
          <span class="tool-card-title">IV Infusion<br>Calculator</span>
        </div>
        
        <!-- Renal: Solid Filter -->
        <div class="tool-card" data-nav="renal">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
          </svg>
          <span class="tool-card-title">Renal Dosing<br>(CrCl)</span>
        </div>
        
        <!-- Other Scores: Solid Clipboard -->
        <div class="tool-card" data-nav="scores">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
          </svg>
          <span class="tool-card-title">Other<br>Clinical Scores</span>
        </div>
        
        <!-- Unit Converter: Arrows (Exchange) -->
        <div class="tool-card" data-nav="converter">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"/>
          </svg>
          <span class="tool-card-title">Unit<br>Converter</span>
        </div>
      </div>
    </div>
    
    <!-- 
      View 2: Heparin Calculator
    -->
    <div id="view-heparin" class="view">
      <div class="calculator-view">
        <div class="mode-toggle-buttons">
          <button id="heparin-mode-initial" class="mode-btn active">Initial Heparin</button>
          <button id="heparin-mode-maintenance" class="mode-btn">Maintenance Heparin</button>
        </div>
        <form id="heparin-form" class="space-y-4">
          <div class="input-group">
            <label for="heparin-patientName">Patient Name:</label>
            <input type="text" id="heparin-patientName" name="patientName" required>
          </div>
          <div class="input-group">
            <label for="heparin-patientIdentifier">Patient ID / Room No.:</label>
            <input type="text" id="heparin-patientIdentifier" name="patientIdentifier" required>
          </div>
          <div class="input-group">
            <label for="heparin-weight">Patient Weight (kg):</label>
            <input type="number" id="heparin-weight" name="weight" step="0.1" required>
          </div>
          <div class="input-group">
            <label for="heparin-concentration">Heparin Concentration (units/mL):</label>
            <input type="number" id="heparin-concentration" name="heparinConcentration" step="0.1" value="100" required>
          </div>
          
          <!-- Initial Fields -->
          <div id="heparin-initial-fields" class="space-y-4">
            <div class="input-group">
              <label for="heparin-indication">Indication:</label>
              <select id="heparin-indication" name="indication" required>
                <option value="AF">AF (Atrial Fibrillation)</option>
                <option value="Venous thromboembolism">Venous Thromboembolism</option>
                <option value="Acute coronary syndrome">Acute Coronary Syndrome</option>
              </select>
            </div>
          </div>
          
          <!-- Maintenance Fields -->
          <div id="heparin-maintenance-fields" class="hidden space-y-4">
            <div class="input-group">
              <label for="heparin-currentRate">Current Infusion Rate (mL/hour):</label>
              <input type="number" id="heparin-currentRate" name="currentInfusionRate" step="0.1">
            </div>
            <div class="input-group">
              <label for="heparin-currentPtt">Current PTT Value (seconds):</label>
              <input type="number" id="heparin-currentPtt" name="currentPtt" step="0.1">
            </div>
          </div>
          
          <button type="submit" class="btn w-full" id="heparin-calculate-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 14H7v-2h6v2zm4-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
            <span>Calculate</span>
          </button>
        </form>
        <div id="heparin-result-area" class="mt-4"></div>
      </div>
    </div>
    
    <!-- 
      View 3: Stress Ulcer Prophylaxis
    -->
    <div id="view-prophylaxis" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">Stress Ulcer Prophylaxis</h2>
        <form id="prophylaxis-form" class="space-y-4">
          <div class="input-group">
            <label for="prophylaxis-patientName">Patient Name:</label>
            <input type="text" id="prophylaxis-patientName" name="patientName" required>
          </div>
          <div class="input-group">
            <label for="prophylaxis-patientIdentifier">Patient ID / Room No.:</label>
            <input type="text" id="prophylaxis-patientIdentifier" name="patientIdentifier" required>
          </div>
          
          <div class="risk-group-heading">High Risk Factors:</div>
          <div class="space-y-2">
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Mechanical Ventilation with no enteral feeding (>48h)"><span>Mechanical Ventilation with no enteral feeding (>48h)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Chronic Liver Disease"><span>Chronic Liver Disease</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Concerning Coagulopathy"><span>Concerning Coagulopathy</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Multiple Trauma, Brain Injury or Spinal Cord"><span>Multiple Trauma, Brain Injury or Spinal Cord</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Burns over 35% of total surface area"><span>Burns over 35% of total surface area</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Organ Transplant"><span>Organ Transplant</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="History of Peptic Ulcer Disease"><span>History of Peptic Ulcer Disease</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Dual Antiplatelet"><span>Dual Antiplatelet</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Septic Shock"><span>Septic Shock</span></label>
          </div>

          <div class="risk-group-heading">Moderate to Low Risk Factors:</div>
          <div class="space-y-2">
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Mechanical Ventilation with enteral nutrition"><span>Mechanical Ventilation with enteral nutrition</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Single Antiplatelet Therapy"><span>Single Antiplatelet Therapy</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Oral Anticoagulation"><span>Oral Anticoagulation</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="SepsIS"><span>Sepsis</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="ICU stay > 7 days"><span>ICU stay > 7 days</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Renal Replacement Therapy"><span>Renal Replacement Therapy</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="High Dose Steroids or Immunosuppressant"><span>High Dose Steroids or Immunosuppressant</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Shock"><span>Shock</span></label>
          </div>
          
          <div id="prophylaxis-result-area" class="mt-4"></div>
          
          <button type="submit" class="btn btn-save w-full" id="prophylaxis-save-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>
            <span>Save Result</span>
          </button>
        </form>
      </div>
    </div>
    
    <!-- 
      View 4: Padua Score
    -->
    <div id="view-padua" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">Padua (VTE) Score</h2>
        <form id="padua-form" class="space-y-4">
          <div class="input-group">
            <label for="padua-patientName">Patient Name:</label>
            <input type="text" id="padua-patientName" name="patientName" required>
          </div>
          <div class="input-group">
            <label for="padua-patientIdentifier">Patient ID / Room No.:</label>
            <input type="text" id="padua-patientIdentifier" name="patientIdentifier" required>
          </div>
          
          <div class="risk-group-heading">Select Risk Factors:</div>
          <div class="space-y-2">
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Active cancer" data-score="3"><span>Active cancer (+3)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Previous VTE" data-score="3"><span>Previous VTE (+3)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Reduced mobility" data-score="3"><span>Reduced mobility (≥3 days) (+3)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Known thrombophilic condition" data-score="3"><span>Known thrombophilic condition (+3)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Recent trauma/surgery" data-score="2"><span>Recent trauma/surgery (≤1 mo) (+2)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Age > 70" data-score="1"><span>Age > 70 years (+1)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Heart/respiratory failure" data-score="1"><span>Heart/respiratory failure (+1)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Acute MI or ischemic stroke" data-score="1"><span>Acute MI or ischemic stroke (+1)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Acute infection/rheumatologic" data-score="1"><span>Acute infection/rheumatologic (+1)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Obesity (BMI > 30)" data-score="1"><span>Obesity (BMI > 30) (+1)</span></label>
            <label class="risk-factor-card"><input type="checkbox" name="riskFactor" value="Hormonal treatment" data-score="1"><span>Hormonal treatment (+1)</span></label>
          </div>
          
          <div id="padua-result-area" class="mt-4"></div>
          
          <button type="submit" class="btn btn-save w-full" id="padua-save-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>
            <span>Save Score</span>
          </button>
        </form>
      </div>
    </div>
    
    <!-- 
      View 5: IV Infusion
    -->
    <div id="view-iv" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">IV Infusion Calculator</h2>
        <form id="iv-form" class="space-y-4">
          <div class="input-group">
            <label for="iv-patientName">Patient Name:</label>
            <input type="text" id="iv-patientName" name="patientName" required>
          </div>
          <div class="input-group">
            <label for="iv-patientIdentifier">Patient ID / Room No.:</label>
            <input type="text" id="iv-patientIdentifier" name="patientIdentifier" required>
          </div>
          <div class="input-group">
            <label for="iv-weight">Patient Weight (kg):</label>
            <input type="number" id="iv-weight" name="weight" step="0.1" required>
          </div>
          <div class="input-group">
            <label for="iv-drugAmount">Total Drug Amount in Solution (mg):</label>
            <input type="number" id="iv-drugAmount" name="drugAmount" step="0.1" required>
          </div>
          <div class="input-group">
            <label for="iv-solutionVolume">Total Solution Volume (mL):</label>
            <input type="number" id="iv-solutionVolume" name="solutionVolume" step="0.1" required>
          </div>
          <div class="input-group">
            <label for="iv-drugDose">Desired Dose:</label>
            <input type="number" id="iv-drugDose" name="drugDose" step="0.01" required>
          </div>
          <div class="input-group">
            <label for="iv-doseUnit">Dose Unit:</label>
            <select id="iv-doseUnit" name="doseUnit" required>
              <option value="mcg/kg/min">mcg/kg/min</option>
              <option value="mcg/min">mcg/min</option>
              <option value="mg/hr">mg/hr</option>
            </select>
          </div>
          
          <button type="submit" class="btn w-full" id="iv-calculate-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 14H7v-2h6v2zm4-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
            <span>Calculate Rate</span>
          </button>
        </form>
        <div id="iv-result-area" class="mt-4"></div>
      </div>
    </div>
    
    <!-- 
      View 6: Renal Dosing
    -->
    <div id="view-renal" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">Renal Dosing (CrCl)</h2>
        <form id="renal-form" class="space-y-4">
          <div class="input-group">
            <label for="renal-age">Age (years):</label>
            <input type="number" id="renal-age" name="age" step="1">
          </div>
          <div class="input-group">
            <label for="renal-weight">Weight (kg):</label>
            <input type="number" id="renal-weight" name="weight" step="0.1">
          </div>
          <div class="input-group">
            <label for="renal-creatinine">Serum Creatinine (mg/dL):</label>
            <input type="number" id="renal-creatinine" name="creatinine" step="0.01">
          </div>
          <div class="input-group">
            <label for="renal-gender">Gender:</label>
            <select id="renal-gender" name="gender">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
        </form>
        <p class="text-sm text-center text-gray-500 dark:text-gray-400">Result will appear below as you type.</p>
        <div id="renal-result-area" class="mt-4"></div>
      </div>
    </div>

    <!-- 
      View 7: Other Scores
    -->
    <div id="view-scores" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">Other Clinical Scores</h2>
        <p class="text-center text-gray-600 dark:text-gray-400 mb-6">More calculators are coming soon.</p>
      </div>
    </div>
    
    <!-- 
      View 8: Unit Converter
    -->
    <div id="view-converter" class="view">
      <div class="calculator-view">
        <h2 class="calculator-title">Unit Converter</h2>
        <form id="converter-form" class="space-y-4">
          <div class="input-group">
            <label for="converter-fromValue">From Value:</label>
            <input type="number" id="converter-fromValue" name="fromValue" step="any" value="1">
          </div>
          <div class="input-group">
            <label for="converter-fromUnit">From Unit:</label>
            <select id="converter-fromUnit" name="fromUnit">
              <optgroup label="Mass">
                <option value="kg">kg</option>
                <option value="g">g</option>
                <option value="mg">mg</option>
                <option value="mcg">mcg</option>
              </optgroup>
              <optgroup label="Volume">
                <option value="L">L</option>
                <option value="mL">mL</option>
              </optgroup>
              <optgroup label="Weight (Specific)">
                <option value="lbs_kg">Pounds (lbs)</option>
                <option value="kg_lbs">Kilograms (kg)</option>
              </optgroup>
            </select>
          </div>
          <div class="input-group">
            <label for="converter-toValue">To Value:</label>
            <input type="text" id="converter-toValue" name="toValue" disabled class="disabled-input">
          </div>
          <div class="input-group">
            <label for="converter-toUnit">To Unit:</label>
            <select id="converter-toUnit" name="toUnit">
              <optgroup label="Mass">
                <option value="kg">kg</option>
                <option value="g">g</option>
                <option value="mg">mg</option>
                <option value="mcg" selected>mcg</option>
              </optgroup>
              <optgroup label="Volume">
                <option value="L">L</option>
                <option value="mL" selected>mL</option>
              </optgroup>
              <optgroup label="Weight (Specific)">
                <option value="lbs_kg">Kilograms (kg)</option>
                <option value="kg_lbs">Pounds (lbs)</toption>
              </optgroup>
            </select>
          </div>
        </form>
        <p class="text-sm text-center text-gray-500 dark:text-gray-400">Result updates automatically.</p>
      </div>
    </div>

    <!-- 
      View 9: History
    -->
    <div id="view-history" class="view">
      <div class="calculator-view" style="margin-bottom: 1rem; padding: 1rem;">
        <div class="input-group" style="margin-bottom: 0;">
          <label for="history-search">Search by Patient Name:</label>
          <input type="search" id="history-search" class="search-bar" placeholder="Type a name to filter logs...">
        </div>
      </div>
      
      <div id="history-logs-container" class="history-view">
        <!-- Loading message or logs will appear here -->
      </div>
    </div>
    
  </main>

  <!-- 
    App Shell: Bottom Nav
  -->
  <nav class="app-bottom-nav">
    <button id="nav-home" class="nav-button active" data-nav="dashboard" aria-label="Home">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
      <span>Home</span>
    </button>
    <button id="nav-history" class="nav-button" data-nav="history" aria-label="History">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
      <span>History</span>
    </button>
  </nav>
  
  <!-- 
    Password Prompt Modal
  -->
  <div id="password-prompt" class="hidden">
    <div id="password-modal">
      <h3 class="calculator-title">Access History</h3>
      <p class="text-center text-gray-600 dark:text-gray-400 mb-6">Please enter the password to view logs.</p>
      <form id="password-form" class="space-y-4">
        <div class="input-group">
          <label for="password-input">Password:</label>
          <input type="password" id="password-input" name="password" required>
        </div>
        <button type="submit" class="btn w-full">
          <span>Unlock</span>
        </button>
        <button type="button" id="password-cancel" class="btn w-full" style="background: #64748b;">
          <span>Cancel</span>
        </button>
      </form>
    </div>
  </div>

  <script src="index.js" defer></script>

</body>
</html>
